---
globs: "*.tsx,src/components/**"
description: "Shadcn UI 컴포넌트 사용 규칙"
---

# Shadcn UI 사용 규칙

## Shadcn UI 개요

Shadcn UI는 복사-붙여넣기 방식의 컴포넌트 라이브러리입니다. NPM 패키지가 아닌, 프로젝트에 직접 코드를 추가하는 방식입니다.

### 설치 및 추가

```bash
# Shadcn UI 초기화 (최초 1회)
npx shadcn-ui@latest init

# 개별 컴포넌트 추가
npx shadcn-ui@latest add button
npx shadcn-ui@latest add card
npx shadcn-ui@latest add input
npx shadcn-ui@latest add dialog
npx shadcn-ui@latest add dropdown-menu
```

컴포넌트는 `src/components/ui/` 디렉토리에 추가됩니다.

## 사용 원칙

### 1. UI 컴포넌트는 Shadcn UI 우선 사용

기본 UI 요소는 Shadcn UI 컴포넌트를 먼저 고려합니다.

```tsx
// ✅ Shadcn UI 컴포넌트 사용
import { Button } from '@/components/ui/button'
import { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'

export function QuestionCard() {
  return (
    <Card>
      <CardHeader>
        <CardTitle>질문 제목</CardTitle>
      </CardHeader>
      <CardContent>
        <p>질문 내용</p>
        <Button>답변 제출</Button>
      </CardContent>
    </Card>
  )
}

// ❌ 직접 구현 (Shadcn UI에 있는 컴포넌트인 경우)
export function QuestionCard() {
  return (
    <div className="border rounded-lg p-4">
      <button className="px-4 py-2 bg-blue-500">답변 제출</button>
    </div>
  )
}
```

### 2. 컴포넌트 커스터마이징

Shadcn UI 컴포넌트는 소스 코드가 프로젝트에 있으므로 자유롭게 수정 가능합니다.

```tsx
// ✅ variant prop 활용
import { Button } from '@/components/ui/button'

<Button variant="default">기본 버튼</Button>
<Button variant="destructive">삭제 버튼</Button>
<Button variant="outline">외곽선 버튼</Button>
<Button variant="ghost">고스트 버튼</Button>
<Button variant="link">링크 버튼</Button>

// ✅ size prop 활용
<Button size="default">기본 크기</Button>
<Button size="sm">작은 크기</Button>
<Button size="lg">큰 크기</Button>
<Button size="icon">아이콘 버튼</Button>

// ✅ 추가 클래스로 확장
<Button className="w-full mt-4">
  전체 너비 버튼
</Button>
```

### 3. 프로젝트 전용 컴포넌트 확장

필요한 경우 Shadcn UI를 베이스로 프로젝트 전용 컴포넌트를 만듭니다.

```tsx
// src/components/quiz/QuizButton.tsx
import { Button } from '@/components/ui/button'
import { ArrowRight } from 'lucide-react'

interface IQuizButtonProps {
  children: React.ReactNode
  onClick: () => void
  disabled?: boolean
  isNext?: boolean
}

export function QuizButton({ 
  children, 
  onClick, 
  disabled,
  isNext = false 
}: IQuizButtonProps) {
  return (
    <Button
      onClick={onClick}
      disabled={disabled}
      variant="default"
      size="lg"
      className="min-w-[120px]"
    >
      {children}
      {isNext && <ArrowRight className="ml-2 h-4 w-4" />}
    </Button>
  )
}
```

## 주요 컴포넌트 사용 예시

### Button 컴포넌트

```tsx
import { Button } from '@/components/ui/button'

// 기본 사용
<Button onClick={handleClick}>클릭</Button>

// 로딩 상태
<Button disabled={isLoading}>
  {isLoading ? '로딩 중...' : '제출'}
</Button>

// 아이콘 포함
import { Loader2 } from 'lucide-react'

<Button disabled>
  <Loader2 className="mr-2 h-4 w-4 animate-spin" />
  처리 중...
</Button>
```

### Card 컴포넌트

```tsx
import { Card, CardHeader, CardTitle, CardDescription, CardContent, CardFooter } from '@/components/ui/card'

<Card>
  <CardHeader>
    <CardTitle>MBTI 결과</CardTitle>
    <CardDescription>당신의 게임 플레이 스타일</CardDescription>
  </CardHeader>
  <CardContent>
    <p>INTJ - 전략가형</p>
  </CardContent>
  <CardFooter>
    <Button>결과 공유하기</Button>
  </CardFooter>
</Card>
```

### Dialog 컴포넌트

```tsx
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogHeader,
  DialogTitle,
  DialogTrigger,
} from '@/components/ui/dialog'

<Dialog>
  <DialogTrigger asChild>
    <Button>퀴즈 재시작</Button>
  </DialogTrigger>
  <DialogContent>
    <DialogHeader>
      <DialogTitle>정말 재시작하시겠습니까?</DialogTitle>
      <DialogDescription>
        현재까지의 답변이 모두 삭제됩니다.
      </DialogDescription>
    </DialogHeader>
    <div className="flex gap-2 justify-end">
      <Button variant="outline">취소</Button>
      <Button variant="destructive" onClick={handleReset}>
        재시작
      </Button>
    </div>
  </DialogContent>
</Dialog>
```

### Input 컴포넌트

```tsx
import { Input } from '@/components/ui/input'
import { Label } from '@/components/ui/label'

<div className="space-y-2">
  <Label htmlFor="username">사용자 이름</Label>
  <Input 
    id="username"
    type="text" 
    placeholder="이름을 입력하세요"
    value={username}
    onChange={(e) => setUsername(e.target.value)}
  />
</div>
```

### Progress 컴포넌트

```tsx
import { Progress } from '@/components/ui/progress'

export function QuizProgress() {
  const { progress } = useQuizStore()
  
  return (
    <div className="space-y-2">
      <div className="flex justify-between text-sm">
        <span>진행률</span>
        <span>{progress.percentage}%</span>
      </div>
      <Progress value={progress.percentage} />
    </div>
  )
}
```

### Badge 컴포넌트

```tsx
import { Badge } from '@/components/ui/badge'

<div className="flex gap-2">
  <Badge>전략형</Badge>
  <Badge variant="secondary">분석가</Badge>
  <Badge variant="outline">INTJ</Badge>
</div>
```

### Tabs 컴포넌트

```tsx
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'

<Tabs defaultValue="strengths">
  <TabsList className="grid w-full grid-cols-3">
    <TabsTrigger value="strengths">강점</TabsTrigger>
    <TabsTrigger value="weaknesses">약점</TabsTrigger>
    <TabsTrigger value="tips">팁</TabsTrigger>
  </TabsList>
  <TabsContent value="strengths">
    <Card>
      <CardHeader>
        <CardTitle>강점</CardTitle>
      </CardHeader>
      <CardContent>
        {profile.strengths.map(strength => (
          <li key={strength}>{strength}</li>
        ))}
      </CardContent>
    </Card>
  </TabsContent>
  {/* 다른 탭들... */}
</Tabs>
```

## 아이콘 사용 (Lucide React)

Shadcn UI는 Lucide React 아이콘과 함께 사용합니다.

```tsx
import { 
  ArrowRight, 
  ArrowLeft, 
  Check, 
  X, 
  Loader2,
  Share2,
  Download,
  RotateCcw 
} from 'lucide-react'

<Button>
  <Check className="mr-2 h-4 w-4" />
  완료
</Button>

<Button variant="outline" size="icon">
  <Share2 className="h-4 w-4" />
</Button>
```

## 테마 커스터마이징

Shadcn UI는 CSS 변수로 테마를 관리합니다.

```css
/* globals.css */
@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --primary: 221.2 83.2% 53.3%;
    --primary-foreground: 210 40% 98%;
    /* ... */
  }
  
  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --primary: 217.2 91.2% 59.8%;
    /* ... */
  }
}
```

## Form 컴포넌트와 React Hook Form 통합

```tsx
import { useForm } from 'react-hook-form'
import { Button } from '@/components/ui/button'
import { Input } from '@/components/ui/input'
import { Label } from '@/components/ui/label'

interface IFormData {
  username: string
  email: string
}

export function UserForm() {
  const { register, handleSubmit, formState: { errors } } = useForm<IFormData>()
  
  const onSubmit = (data: IFormData) => {
    console.log(data)
  }
  
  return (
    <form onSubmit={handleSubmit(onSubmit)} className="space-y-4">
      <div>
        <Label htmlFor="username">사용자 이름</Label>
        <Input 
          id="username"
          {...register('username', { required: true })}
        />
        {errors.username && (
          <p className="text-sm text-red-500 mt-1">이름은 필수입니다</p>
        )}
      </div>
      
      <Button type="submit">제출</Button>
    </form>
  )
}
```

## 접근성 (Accessibility)

Shadcn UI 컴포넌트는 접근성이 기본으로 내장되어 있습니다:

- 키보드 네비게이션 지원
- ARIA 속성 자동 적용
- 포커스 관리
- 스크린 리더 호환

```tsx
// ✅ 접근성이 자동으로 처리됨
<Dialog>
  <DialogTrigger>열기</DialogTrigger>
  <DialogContent>
    {/* 자동으로 포커스 트랩, ESC 키 닫기, ARIA 속성 적용 */}
  </DialogContent>
</Dialog>
```

## 주의사항

### 1. 컴포넌트 위치

- Shadcn UI 기본 컴포넌트: `src/components/ui/`
- 프로젝트 커스텀 컴포넌트: `src/components/` (기능별 폴더)

### 2. 수정 가능성

Shadcn UI 컴포넌트는 프로젝트 코드의 일부이므로:
- ✅ 자유롭게 수정 가능
- ✅ 프로젝트 요구사항에 맞게 커스터마이징
- ⚠️ 수정 시 다른 사용처에 영향 고려

### 3. 업데이트

```bash
# 특정 컴포넌트 업데이트 (덮어쓰기)
npx shadcn-ui@latest add button --overwrite
```

## 추천 컴포넌트 목록

프로젝트에 추가하면 유용한 Shadcn UI 컴포넌트:

```bash
# 필수 컴포넌트
npx shadcn-ui@latest add button
npx shadcn-ui@latest add card
npx shadcn-ui@latest add input
npx shadcn-ui@latest add label

# 퀴즈 관련
npx shadcn-ui@latest add progress
npx shadcn-ui@latest add radio-group
npx shadcn-ui@latest add separator

# 결과 페이지
npx shadcn-ui@latest add tabs
npx shadcn-ui@latest add badge
npx shadcn-ui@latest add avatar

# 인터랙션
npx shadcn-ui@latest add dialog
npx shadcn-ui@latest add dropdown-menu
npx shadcn-ui@latest add toast

# 레이아웃
npx shadcn-ui@latest add sheet
npx shadcn-ui@latest add scroll-area
```

## 참고 자료

- Shadcn UI 공식 문서: https://ui.shadcn.com
- Lucide React 아이콘: https://lucide.dev
